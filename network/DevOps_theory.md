**DevOps** (development и operations — разработка и эксплуатация) — набор практик, которые автоматизируют процессы между командами разработчиков и специалистами по информационно-технологическому обслуживанию.

# CI/CD
![image 3V1DW1](https://user-images.githubusercontent.com/79608549/205702273-5fbbd410-3b7a-48d9-b4db-3767f06c298f.png)


Простыми словами, CI/CD (Continuous Integration, Continuous Delivery — непрерывная интеграция и доставка) — это технология автоматизации тестирования и доставки новых модулей разрабатываемого проекта заинтересованным сторонам (разработчики, аналитики, инженеры качества, конечные пользователи и др.).

**Главные цели CI/CD** — свести к минимуму ошибки, ускорить сборку и повысить качество конечного продукта. В CI/CD тестирование проводится всякий раз, когда в код вносятся изменения. Обнаружение ошибок на ранней стадии разработки существенно экономит время и ресурсы команды, ведь чем позднее выявляется баг, тем труднее и дороже его исправлять. Что касается ускорения, то автоматизация CI/CD помогает значительно оптимизировать все рутинные процессы сборки.

## Три кита CI/CD
У методологии CI/CD три подхода, которые используют отдельно или сочетают, в зависимости от стратегии.

**Непрерывная интеграция**
Обновления в код вносятся регулярно, до нескольких раз в день. Инструменты CI, такие как GitLab, позволяют создавать скрипты для автоматической сборки и тестирования кода, после каждого загруженного в репозиторий изменения. Сначала проверку проходит новое изменение отдельно, после чего вносится в код предыдущей версии ПО, которое тестируется уже целиком.

**Непрерывная доставка + Непрерывное развертывание**
После того, как изменения внесены и код протестирован, ПО можно развертывать (деплоить) — запускать его уже не на тестовом, а на рабочих серверах. Непрерывная доставка подразумевает развертывание кода после каждой новой интеграции. Эта операция проводится вручную или автоматически. Непрерывное развертывание — уже полностью автоматический процесс, проходящий без контроля со стороны команды.

**Базовый рабочий процесс CI/CD**
В качестве примера возьмем упомянутую выше систему GitLab — одну из популярных сред разработки, поддерживающих методологию CI/CD.

## Циклы CI/CD
Инструмент Cycle Analytics («Аналитика цикла») измеряет время, которое было затрачено на реализацию идеи — от задумки до выпуска продукта. Cycle Analytics показывает узкие места в разработке и причины задержек, которые можно устранить. Cycle Analytics отслеживает семь стадий разработки:

- Задача/Issue (трекер)
- Планирование/Plan (доска)
- Программирование/Code (IDE)
- Тестирование/Test (CI)
- Рецензирование/Review (запрос на слияние)
- Промежуточная стадия/Staging (непрерывное развертывание)
- Производственная стадия/Production (общая продолжительность)

# Infrastructure as Code

## Що таке інфраструктура

**Інфраструктура** — це ресурси, які потрібні для підтримки коду. Водночас дехто може уявити серверні стійки, світчі та зміїне кубло кабелів... Але це вчорашній день. Сьогодні 99% проєктів живе в «хмарах». Тобто ресурси — це віртуальні машини, контейнери, load balancers.

Отже, усі хмарні ресурси — це інше програмне забезпечення, яке виконується на комп’ютерах нашого хмарного провайдера.

**Infrastructure as Code** — це спосіб постачання та керування обчислювальними та мережевими ресурсами методом їх опису у вигляді програмного коду, на відміну від налаштовування необхідного обладнання власноруч чи з допомогою інтерактивних інструментів.

## Як організувати процес деплойменту інфраструктури
Як і під час роботи зі звичайним кодом, ми можемо розбити процес деплойменту на частини:
- Валідація
- Тестування
- Деплоймент
- Димове тестування
(і потім усе повторюється в наступному оточенні, починаючи з п.1)
Тестування та димове тестування заслуговують на окрему статтю, тому наразі зупинимося на валідації та деплойменті.

Валідація інфраструктури — особливо ключової — дуже важлива. Нам треба переконатися, що зміни в інфраструктурі, які будуть деплоїтися — насправді ті, що нам потрібні і що в них немає непередбачуваних побічних ефектів.

## А тепер деплоїмо
Якщо всі зміни є такими, як нам треба, можна сміливо переходити до деплойменту. Подивимось, який вигляд матиме фінальний скрипт, потрібний для повної автоматизації:
```bash
# initializing configuration!
export TF_VAR_<your variable>=... 

# setting up or syncing with a remote state
terraform init


# reviewing a list of changes
terraform plan -input=false	
    
# deploying our infrastructure changes
terraform apply -input=false -auto-approve
```
