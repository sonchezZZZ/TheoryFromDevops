# Обзор сетей Docker

Сеть Docker построена на Container Network Model (CNM), которая позволяет кому угодно создать свой собственный сетевой драйвер. Таким образом, у контейнеров есть доступ к разным типам сетей и они могут подключаться к нескольким сетям одновременно. Помимо различных сторонних сетевых драйверов, у самого Docker-а есть 4 встроенных:


- Bridge: в этой сети контейнеры запускаются по умолчанию. Связь устанавливается через bridge-интерфейс на хосте. У контейнеров, которые используют одинаковую сеть, есть своя собственная подсеть, и они могут передавать данные друг другу по умолчанию.
- Host: этот драйвер дает контейнеру доступ к собственному пространству хоста (контейнер будет видеть и использовать тот же интерфейс, что и хост).
- Macvlan: этот драйвер дает контейнерам прямой доступ к интерфейсу и суб-интерфейсу (vlan) хоста. Также он разрешает транкинг.
- Overlay: этот драйвер позволяет строить сети на нескольких хостах с Docker (обычно на Docker Swarm кластере). У контейнеров также есть свои адреса сети и подсети, и они могут напрямую обмениваться данными, даже если они располагаются физически на разных хостах.

Сетевые драйвера Bridge и Overlay, возможно, используются чаще всего, поэтому в этой статье я буду больше уделять им внимание.

Сводка сетевых драйверов 

- Определяемые пользователем мостовые сети лучше всего подходят, когда вам нужно, чтобы несколько контейнеров взаимодействовали на одном хосте Docker.
- Хост-сети лучше всего подходят, когда сетевой стек не должен быть изолирован от хоста Docker, но вы хотите, чтобы были изолированы другие аспекты контейнера.
- Оверлейные сети лучше всего подходят, когда вам нужны контейнеры, работающие на разных хостах Docker, для связи или когда несколько приложений работают вместе, используя службы роя.
- Сети Macvlan лучше всего подходят, когда вы мигрируете с установки виртуальной машины или вам нужно, чтобы ваши контейнеры выглядели как физические хосты в вашей сети, каждый с уникальным MAC-адресом.
Сторонние сетевые плагины позволяют интегрировать Docker со специализированными сетевыми стеками.
